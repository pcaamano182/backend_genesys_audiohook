<!DOCTYPE HTML>
<!--
 Copyright 2025 Google LLC

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
-->

<html>

<head>
    <title>Interactive Demo</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"
        integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg=="
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.0.4/socket.io.js"
        integrity="sha512-aMGMvNYu8Ue4G+fHa359jcPb1u+ytAF+P2SCb+PxrjCdO3n3ZTxJ30zuH39rimUggmTwmh2u7wvQsDTHESnmfQ=="
        crossorigin="anonymous"></script>
    <!-- Google Agent Assist UI Modules - Individual components -->
    <script src="https://www.gstatic.com/external_hosted/document_register_element/document-register-element.js"></script>
    <script src="https://www.gstatic.com/agent-assist-ui-modules/v1/common.js"></script>
    <script src="https://www.gstatic.com/agent-assist-ui-modules/v1/smart_reply.js"></script>
    <script src="https://www.gstatic.com/agent-assist-ui-modules/v1/knowledge_assist.js"></script>
    <script src="https://www.gstatic.com/agent-assist-ui-modules/v1/conversation_summarization.js"></script>
    <style>
        #agent-assist-container {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
        }

        agent-assist-ui-modules {
            display: block;
            width: 100%;
            min-height: 400px;
        }

        .transcript-message {
            margin: 5px 0;
            padding: 8px;
            border-radius: 4px;
            background: #fff;
            border-left: 4px solid #007bff;
        }

        .agent-message {
            border-left-color: #28a745;
        }

        .customer-message {
            border-left-color: #ffc107;
        }
    </style>
    <script type="text/javascript" charset="utf-8">
        $(document).ready(function () {
            // TODO: Update the URL of your UI Connector Cloud Run Service. Keep it empty for local test/deployment.
            let serviceUrl = '';

            // Information about current conversation
            var versionUrl = '/v2beta1/';
            var project_id, location_id, conversation_profile_name, conversation_name, end_user_name, human_agent_name;
            var JWT = '';

            // An array of joined conversation names
            var joined_conversations = [];

            // Helper function for printing log
            function logPrinter(action, type, msg) {
                $('#log').prepend(
                    $('<div/>').text(action + ' <' + type + '> ' + msg).html() + '<br><br>'
                );
            }
            // Helper function for updating joined conversation names
            function updateJoinedConversationNames() {
                let content = '';
                for (let i = 0; i < joined_conversations.length; i++) {
                    content += '<br>' + $('<div/>').text(joined_conversations[i]).html();
                }
                $('#joined_conversations').empty().append(content);
            }
            // Create a socket for Cloud Pub/Sub Interceptor
            function createSocket(jwt, url) {
                var socket = io(url, {
                    transports: ['websocket'],
                    auth: {
                        token: jwt
                    },
                });
                socket.on('connect', () => {
                    logPrinter('Listened', 'connect', 'Connected! socket.id: ' + socket.id);
                    socket.sendBuffer = [];
                });
                socket.on("disconnect", (reason) => {
                    logPrinter('Listened', 'disconnect', 'Disconnected! reason: ' + reason);
                });
                socket.on("connect_error", (err) => {
                    console.log(`connect_error due to ${err.message}`);
                });
                socket.on('conversation-lifecycle-event', (msg) => {
                    logPrinter('Listened', 'conversation-lifecycle-event', JSON.stringify(msg));
                });
                socket.on('new-message-event', (msg) => {
                    logPrinter('Listened', 'new-message-event', JSON.stringify(msg));
                });
                socket.on('human-agent-assistant-event', function (msg) {
                    logPrinter(
                        'Listened',
                        'human-agent-assistant-event',
                        JSON.stringify(msg)
                    );
                });
                socket.on('unauthenticated', function () {
                    logPrinter('Listened', 'unauthenticated', '');
                });
                return socket;
            }
            // Get JWT
            var currentSocket;
            if (serviceUrl) { // for local dev
                fetch(serviceUrl + '/register', {
                    method: 'POST',
                    headers: {
                        'Authorization': '123',
                    },
                })
                    .then(response => response.json())
                    .then(data => {
                        JWT = data.token;
                        $('#log').prepend(
                            $('<div/>').text('Received <jwt> ' + JWT).html()
                        );
                        // Connect to the Socket.IO server
                        currentSocket = createSocket(JWT, serviceUrl);
                    })
                    .catch((error) => {
                        console.error('Error:', error);
                    });
            } else { // for service deploy
                fetch(serviceUrl + '/register', {
                    method: 'POST',
                    headers: {
                        'Authorization': '123',
                    },
                })
                    .then(response => response.json())
                    .then(data => {
                        JWT = data.token;
                        $('#log').prepend(
                            $('<div/>').text('Received <jwt> ' + JWT).html()
                        );
                        // Connect to the Socket.IO server
                        currentSocket = createSocket(JWT, serviceUrl);
                    })
                    .catch((error) => {
                        console.error('Error:', error);
                    });
            }

            // Helper function to dispatch Agent Assist events
            function dispatchAgentAssistEvent(eventName, detail) {
                const event = new CustomEvent(eventName, { detail: detail });
                window.dispatchEvent(event);
                console.log('Dispatched event:', eventName, detail);
            }

            // Add event listeners to debug what the UI module is requesting
            function setupDebugListeners() {
                const eventsToMonitor = [
                    'conversation-profile-requested',
                    'conversation-model-requested',
                    'list-messages-requested',
                    'patch-answer-record-requested',
                    'article-search-requested',
                    'dialogflow-api-error',
                    'dialogflow-api-authentication-error',
                    'api-connector-initialized',
                    'agent-desktop-connector-initialized',
                    'api-connector-initialization-failed',
                    'agent-desktop-connector-initialization-failed',
                    'event-based-connector-initialized',
                    'event-based-connector-initialization-failed'
                ];

                eventsToMonitor.forEach(eventName => {
                    window.addEventListener(eventName, (event) => {
                        console.log('üîî UI Module requested:', eventName, event.detail);

                        // Auto-respond to conversation-profile-requested
                        if (eventName === 'conversation-profile-requested' && conversation_profile_name && JWT) {
                            console.log('Auto-fetching conversation profile...');
                            fetch(serviceUrl + versionUrl + conversation_profile_name, {
                                method: 'GET',
                                headers: {
                                    'Content-Type': 'application/json',
                                    'Authorization': JWT,
                                },
                            })
                                .then(response => response.json())
                                .then(data => {
                                    dispatchAgentAssistEvent('conversation-profile-received', data);
                                    console.log('‚úÖ Conversation profile dispatched');
                                })
                                .catch((error) => {
                                    console.error('‚ùå Error fetching conversation profile:', error);
                                });
                        }
                    });
                });
            }

            // Call this on page load
            setupDebugListeners();

            // Initialize Agent Assist UI Modules - only called after participants are created
            function initializeAgentAssist() {
                const container = document.getElementById('agent-assist-container');

                if (!JWT || !conversation_profile_name || !conversation_name) {
                    console.log('Cannot initialize UI modules - missing:', {
                        'JWT': !!JWT,
                        'conversation_profile_name': !!conversation_profile_name,
                        'conversation_name': !!conversation_name
                    });
                    return;
                }

                // Initialize the UiModulesConnector (required for event-based integration)
                if (window.UiModulesConnector) {
                    const connector = new window.UiModulesConnector();
                    connector.init({
                        channel: 'chat',
                        agentDesktop: 'Custom',
                        conversationProfileName: conversation_profile_name,
                        apiConfig: {
                            authToken: JWT,
                            customApiEndpoint: window.location.origin
                        }
                    });
                    window.uiConnector = connector;
                    console.log('‚úÖ UiModulesConnector initialized');

                    // Set the active conversation on the connector
                    setTimeout(() => {
                        if (connector.setActiveConversation) {
                            connector.setActiveConversation(conversation_name);
                            console.log('‚úÖ Active conversation set on connector:', conversation_name);
                        }
                    }, 500);
                } else {
                    console.error('‚ùå UiModulesConnector not available - v1/common.js may not have loaded');
                }

                // Create individual UI module elements
                const smartReply = document.createElement('agent-assist-smart-reply');
                const knowledgeAssist = document.createElement('agent-assist-knowledge-assist');
                const conversationSummarization = document.createElement('agent-assist-conversation-summarization');

                // Set attributes on each module
                const modules = [smartReply, knowledgeAssist, conversationSummarization];
                modules.forEach(module => {
                    module.setAttribute('auth-token', JWT);
                    module.setAttribute('conversation-name', conversation_name);
                    module.setAttribute('conversation-profile', conversation_profile_name);
                    module.setAttribute('custom-api-endpoint', window.location.origin);
                });

                // Clear container and add all modules
                container.innerHTML = '';
                container.appendChild(smartReply);
                container.appendChild(knowledgeAssist);
                container.appendChild(conversationSummarization);

                window.uiModules = { smartReply, knowledgeAssist, conversationSummarization };
                console.log('‚úÖ Individual UI modules created:', {
                    smartReply: !!smartReply,
                    knowledgeAssist: !!knowledgeAssist,
                    conversationSummarization: !!conversationSummarization
                });

                // Comprehensive debugging
                setTimeout(() => {
                    console.log('=== INDIVIDUAL MODULES DEBUG ===');
                    console.log('1. Smart Reply:', smartReply);
                    console.log('   - innerHTML:', smartReply.innerHTML);
                    console.log('   - shadowRoot:', smartReply.shadowRoot);

                    console.log('2. Knowledge Assist:', knowledgeAssist);
                    console.log('   - innerHTML:', knowledgeAssist.innerHTML);
                    console.log('   - shadowRoot:', knowledgeAssist.shadowRoot);

                    console.log('3. Conversation Summarization:', conversationSummarization);
                    console.log('   - innerHTML:', conversationSummarization.innerHTML);
                    console.log('   - shadowRoot:', conversationSummarization.shadowRoot);

                    console.log('4. Connector Status:', window.uiConnector);
                    console.log('=== END DEBUG ===');
                }, 2000);
            }

            // Request conversation initialization after conversation is created
            function requestConversationInitialization() {
                if (conversation_name) {
                    dispatchAgentAssistEvent('conversation-initialization-requested', {
                        conversationName: conversation_name
                    });
                }
            }

            // Notify UI modules that conversation has been initialized
            function notifyConversationInitialized() {
                if (conversation_name && end_user_name && human_agent_name) {
                    // First, create and initialize the UI module with all data ready
                    initializeAgentAssist();

                    console.log('‚úÖ Conversation fully initialized with both participants');
                }
            }

            window.setInterval(function () {
                $('#transport').text(currentSocket.io.engine.transport.name);
            }, 1000);
            $('form#set_conversation_profile').submit(function (event) {
                conversation_profile_name = $('#conversation_profile_test_name').val();
                $('#conversation_profile_name').text(conversation_profile_name);

                project_id = conversation_profile_name.split('/')[1];
                location_id = conversation_profile_name.split('/')[3];
                $('#gcp_project_id').text(project_id);
                $('#gcp_location_id').text(location_id);
                return false;
            });
            $('form#get_conversation_profile').submit(function (event) {
                fetch(serviceUrl + versionUrl + conversation_profile_name, {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': JWT,
                    },
                })
                    .then(response => response.json())
                    .then(data => {
                        $('#log').prepend(
                            $('<div/>').text('Received <conversation_profile> ' + JSON.stringify(data)).html() + '<br><br>'
                        );
                    })
                    .catch((error) => {
                        console.error('Error:', error);
                    });
                return false;
            });
            $('form#create').submit(function (event) {
                fetch(serviceUrl + versionUrl + 'projects/' + project_id + '/locations/' + location_id + '/conversations', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': JWT,
                    },
                    body: JSON.stringify({ conversation_profile: conversation_profile_name }),
                })
                    .then(response => response.json())
                    .then(data => {
                        conversation_name = data.name;
                        $('#conversation_name').text(conversation_name);
                        $('#log').prepend(
                            $('<div/>').text('Received <conversation_name> ' + JSON.stringify(data)).html() + '<br><br>'
                        );
                    })
                    .catch((error) => {
                        console.error('Error:', error);
                    });
                return false;
            });
            $('form#set_conversation').submit(function (event) {
                conversation_name = $('#input_conversation_name').val();
                $('#conversation_name').text(conversation_name);

                project_id = conversation_name.split('/')[1];
                location_id = conversation_name.split('/')[3];
                $('#gcp_project_id').text(project_id);
                $('#gcp_location_id').text(location_id);

                // Fetch conversation to get the profile
                if (JWT && conversation_name) {
                    fetch(serviceUrl + versionUrl + conversation_name, {
                        method: 'GET',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': JWT,
                        },
                    })
                        .then(response => response.json())
                        .then(data => {
                            if (data.conversationProfile) {
                                conversation_profile_name = data.conversationProfile;
                                $('#conversation_profile_name').text(conversation_profile_name);
                                console.log('Auto-set conversation profile from conversation:', conversation_profile_name);
                            }
                        })
                        .catch((error) => {
                            console.error('Error fetching conversation:', error);
                        });
                }
                return false;
            });
            $('form#join').submit(function (event) {
                currentSocket.emit('join-conversation', conversation_name, (ack, result) => {
                    logPrinter(
                        'Emitted',
                        'send_message',
                        'ACK for joining conversation: ' + ack + ',' + result
                    )
                    if (ack) {
                        joined_conversations.push(conversation_name);
                        updateJoinedConversationNames();
                    }
                });
                return false;
            });
            $('form#leave').submit(function (event) {
                currentSocket.emit('leave-conversation', conversation_name, (ack, result) => {
                    logPrinter(
                        'Emitted',
                        'send_message',
                        'ACK for leaving conversation: ' + ack + ',' + result
                    )
                    if (ack) {
                        let index = joined_conversations.indexOf(conversation_name);
                        if (index > -1) {
                            joined_conversations.splice(index, 1);
                            updateJoinedConversationNames();
                        }
                    }
                });
                return false;
            });
            $('form#create_user').submit(function (event) {
                fetch(serviceUrl + versionUrl + conversation_name + '/participants', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': JWT,
                    },
                    body: JSON.stringify({ role: 'END_USER' }),
                })
                    .then(response => response.json())
                    .then(data => {
                        end_user_name = data.name;
                        $('#end_user_name').text(end_user_name);
                        $('#log').prepend(
                            $('<div/>').text('Received <end_user_name> ' + JSON.stringify(data)).html() + '<br><br>'
                        );
                    })
                    .catch((error) => {
                        console.error('Error:', error);
                    });
                return false;
            });
            $('form#create_agent').submit(function (event) {
                fetch(serviceUrl + versionUrl + conversation_name + '/participants', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': JWT,
                    },
                    body: JSON.stringify({ role: 'HUMAN_AGENT' }),
                })
                    .then(response => response.json())
                    .then(data => {
                        human_agent_name = data.name;
                        $('#human_agent_name').text(human_agent_name);
                        $('#log').prepend(
                            $('<div/>').text('Received <human_agent_name> ' + JSON.stringify(data)).html() + '<br><br>'
                        );
                        // Notify UI modules that conversation is fully initialized
                        setTimeout(notifyConversationInitialized, 500);
                    })
                    .catch((error) => {
                        console.error('Error:', error);
                    });
                return false;
            });
            $('form#user_send').submit(function (event) {
                const userMessage = $('#user_send_message').val();
                fetch(serviceUrl + versionUrl + end_user_name + ':analyzeContent', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': JWT,
                    },
                    body: JSON.stringify(
                        { text_input: { languageCode: 'en-US', text: userMessage } }),
                })
                    .then(response => response.json())
                    .then(data => {
                        $('#log').prepend(
                            $('<div/>').text('Received <analyzeContent response for user> ' + JSON.stringify(data)).html() + '<br><br>'
                        );
                        // Dispatch event for UI modules
                        dispatchAgentAssistEvent('analyze-content-response-received', {
                            conversationName: conversation_name,
                            payload: {
                                type: 'text',
                                response: data
                            }
                        });
                    })
                    .catch((error) => {
                        console.error('Error:', error);
                    });
                return false;
            });
            $('form#agent_send').submit(function (event) {
                const agentMessage = $('#agent_send_message').val();
                fetch(serviceUrl + versionUrl + human_agent_name + ':analyzeContent', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': JWT,
                    },
                    body: JSON.stringify(
                        { text_input: { languageCode: 'en-US', text: agentMessage } }),
                })
                    .then(response => response.json())
                    .then(data => {
                        $('#log').prepend(
                            $('<div/>').text('Received <analyzeContent response for agent> ' + JSON.stringify(data)).html() + '<br><br>'
                        );
                        // Dispatch event for UI modules
                        dispatchAgentAssistEvent('analyze-content-response-received', {
                            conversationName: conversation_name,
                            payload: {
                                type: 'text',
                                response: data
                            }
                        });
                    })
                    .catch((error) => {
                        console.error('Error:', error);
                    });
                return false;
            });
            $('form#search_knowledge').submit(function (event) {
                fetch(serviceUrl + versionUrl + conversation_name + '/suggestions:searchKnowledge', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': JWT,
                    },
                    body: JSON.stringify(
                        {
                            parent: 'projects/' + project_id + '/locations/' + location_id,
                            query: { languageCode: 'en-US', text: $('#search_knowledge_query').val() },
                            conversation_profile: conversation_profile_name,
                            session_id: conversation_name.split('/')[5],
                        }),
                })
                    .then(response => response.json())
                    .then(data => {
                        $('#log').prepend(
                            $('<div/>').text('Received <searchKnowledge response> ' + JSON.stringify(data)).html() + '<br><br>'
                        );
                    })
                    .catch((error) => {
                        console.error('Error:', error);
                    });
                return false;
            });
            $('form#suggest_summary').submit(function (event) {
                fetch(serviceUrl + versionUrl + conversation_name + '/suggestions:suggestConversationSummary', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': JWT,
                    },
                    body: JSON.stringify({ context_size: 1000 }),
                })
                    .then(response => response.json())
                    .then(data => {
                        $('#log').prepend(
                            $('<div/>').text('Received <suggestConversationSummary response> ' + JSON.stringify(data)).html() + '<br><br>'
                        );
                    })
                    .catch((error) => {
                        console.error('Error:', error);
                    });
                return false;
            });
            $('form#complete').submit(function (event) {
                fetch(serviceUrl + versionUrl + conversation_name + ':complete', {
                    method: 'POST',
                    headers: {
                        'Authorization': JWT,
                    },
                })
                    .then(response => response.json())
                    .then(data => {
                        $('#log').prepend(
                            $('<div/>').text('Received <response for complete conversation> ' + JSON.stringify(data)).html() + '<br><br>'
                        );
                    })
                    .catch((error) => {
                        console.error('Error:', error);
                    });
                return false;
            });
            $('form#join_conversation').submit(function (event) {
                let interested_conversation_name = $('#interested_conversation').val();
                currentSocket.emit('join-conversation', interested_conversation_name, (ack, result) => {
                    logPrinter(
                        'Emitted',
                        'join-conversation',
                        'ACK for joining conversation: ' + ack + ',' + result
                    )
                    if (ack) {
                        if (joined_conversations.indexOf(interested_conversation_name) > -1) {
                            joined_conversations.push(interested_conversation_name);
                            updateJoinedConversationNames();
                        }
                    }
                });
                return false;
            });
            $('form#leave_conversation').submit(function (event) {
                let uninterested_conversation_name = $('#uninterested_conversation').val();
                currentSocket.emit('leave-conversation', uninterested_conversation_name, (ack, result) => {
                    logPrinter(
                        'Emitted',
                        'leave-conversation',
                        'ACK for leaving conversation: ' + ack + ',' + result
                    )
                    if (ack) {
                        let index = joined_conversations.indexOf(uninterested_conversation_name);
                        if (index > -1) {
                            joined_conversations.splice(index, 1);
                            updateJoinedConversationNames();
                        }
                    }
                });
                return false;
            });
        });
    </script>
</head>

<body>
    <h1>AA Integration Service - Interactive Demo</h1>
    <p>
        Before sending messages: Set Conversation Profile, Create Conversation, Join Conversation, Create a User
        participant and Create an Agent
        participant.<br>
    </p>
    <form id="set_conversation_profile" method="POST" action='#'>
        <input type="text" name="conversation_profile_test_name" id="conversation_profile_test_name"
            placeholder="projects/your-project-id/conversationProfiles/your-conversation-profile-id">
        <input type="submit" value="Set Conversation Profile">
    </form>
    <form id="get_conversation_profile" method="GET" action="#">
        <input type="submit" value="Get Conversation Profile">
    </form>
    <form id="create" method="POST" action="#">
        <input type="submit" value="Create Conversation">
    </form>
    <form id="set_conversation" method="POST" action='#'>
        <input type="text" name="input_conversation_name" id="input_conversation_name">
        <input type="submit" value="Set as Current Conversation">
    </form>
    <form id="join" method="POST" action="#">
        <input type="submit" value="Join Current Conversation">
    </form>
    <form id="create_user" method="POST" action="#">
        <input type="submit" value="Create a User participant">
    </form>
    <form id="create_agent" method="POST" action="#">
        <input type="submit" value="Create an Agent participant">
    </form>
    <form id="user_send" method="POST" action='#'>
        <input type="text" name="user_send_message" id="user_send_message" placeholder="Message">
        <input type="submit" value="Send Message as End User">
    </form>
    <form id="agent_send" method="POST" action='#'>
        <input type="text" name="agent_send_message" id="agent_send_message" placeholder="Message">
        <input type="submit" value="Send Message as Human Agent">
    </form>
    <form id="search_knowledge" method="POST" action='#'>
        <input type="text" name="search_knowledge_query" id="search_knowledge_query" placeholder="Query">
        <input type="submit" value="Search Knowledge">
    </form>
    <form id="suggest_summary" method="POST" action="#">
        <input type="submit" value="Suggest Conversation Summary">
    </form>
    <form id="complete" method="POST" action="#">
        <input type="submit" value="Complete Conversation">
    </form>
    <form id="leave" method="POST" action="#">
        <input type="submit" value="Leave Current Conversation">
    </form>
    <form id="join_conversation" method="POST" action='#'>
        <input type="text" name="interested_conversation" id="interested_conversation" placeholder="Conversation Name">
        <input type="submit" value="Join Another Conversation">
    </form>
    <form id="leave_conversation" method="POST" action='#'>
        <input type="text" name="uninterested_conversation" id="uninterested_conversation"
            placeholder="Conversation Name">
        <input type="submit" value="Leave Another Conversation">
    </form>
    <p>
        Current transport is: <b><span id="transport"></span></b><br>
        GCP Project Id: <b><span id="gcp_project_id"></span></b><br>
        GCP Location Id: <b><span id="gcp_location_id"></span></b><br>
        Conversation Profile Name: <b><span id="conversation_profile_name"></span></b><br>
        Conversation Name: <b><span id="conversation_name"></span></b><br>
        End User Name: <b><span id="end_user_name"></span></b><br>
        Human Agent Name: <b><span id="human_agent_name"></span></b><br>
    </p>
    <h2>Joined Conversations</h2>
    <div id="joined_conversations"></div>

    <!-- Agent Assist UI Modules Container -->
    <h2>Agent Assist</h2>
    <div id="agent-assist-container">
        <!-- UI module will be dynamically created here after conversation setup -->
    </div>

    <h2>Log (from latest to oldest)</h2>
    <div id="log" style="width: 90%; height: 400px; overflow:scroll; border: thin #000 solid; padding: 5px;">
    </div>
</body>

</html>
